
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3c.org/TR/1999/REC-html401-19991224/loose.dtd">
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en"><head>
  <title>Local Gaussian Density Mixtures for Unstructured Lumigraph Rendering</title>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1252">

<meta property="og:image" content=""/>
<meta property="og:title" content="Local Gaussian Density Mixtures for Unstructured Lumigraph Rendering" />
<meta name="Description" content="Local Gaussian Density Mixtures for Unstructured Lumigraph Rendering" />
<meta name="Keywords" content="Scalable, Neural rendering, Indoor Scene, Rendering, NeRF, neural radiance, image-based rendering, IBR, Neural radiance field, radiance field" />
<meta name="google-site-verification" content="EHqRPVRs5I7MJ6ut-LWwjYlHivbFEgUcSH2eMfAqbo0" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-53682931-1', 'auto');
  ga('send', 'pageview');

</script>

<script type="text/javascript">
// redefining default features
var _POPUP_FEATURES = 'width=500,height=300,resizable=1,scrollbars=1,titlebar=1,status=1';

</script>


<script src="js/slides.js"></script>


<link media="all" href="glab.css" type="text/css" rel="StyleSheet">
<style type="text/css" media="all">
IMG {
	PADDING-RIGHT: 0px;
	PADDING-LEFT: 0px;
	FLOAT: right;
	PADDING-BOTTOM: 0px;
	PADDING-TOP: 0px
}
#primarycontent {
	MARGIN-LEFT: auto; ; WIDTH: expression(document.body.clientWidth >
1000? "1000px": "auto" ); MARGIN-RIGHT: auto; TEXT-ALIGN: left; max-width:
1000px }
BODY {
	TEXT-ALIGN: center
}
</style>


<body onload='changevideo("videos/blue_car_lgdm.mp4",1);showSlides(1);'>

  <!-- <div class="my_logo">
    <img alt="" src="images/logo.png" width=35%>
</div> -->

<div id="primarycontent">

  <div class="uni_div">
    <img src="images/university.png" width="100%" >
  </div>

<br>
<br><br>


<div class="area">
  <div class="image-area">
      <img src="images/siggrapha2024.png" alt="Description of image">
  </div>
  <div class="title-area">
      <h1>Local Gaussian Density Mixtures 
      <br> for Unstructured Lumigraph Rendering</h1>
  </div>
</div>

<!-- <br><br><br>
<center><h1>Local Gaussian Density Mixtures 
  <br> for Unstructured Lumigraph Rendering</h1></center>


  
<center><h5>SIGGRAPH Asia 2024</h5></center>


<br><br> -->
<!-- <div class="logo_div">
  <img src="images/siggrapha2024.png" width="20%" >
</div>  -->

<!-- <br>
<br><br><br> -->
<center><h4>
  <a href="../../index.html"><u>Xiuchao Wu</u></a><sup>1</sup>&nbsp;&nbsp;&nbsp;&nbsp;
  <a href="https://superxjm.github.io/"><u>Jiamin Xu</u></a><sup>2</sup>&nbsp;&nbsp;&nbsp;&nbsp;
  <a href="https://cv.wangchi.art/"><u>Chi Wang</u></a><sup>1</sup>&nbsp;&nbsp;&nbsp;
  <a href="https://www.eee.hku.hk/~evanpeng/"><u>Yifan Peng</u></a><sup>3</sup>&nbsp;&nbsp;&nbsp;
  <a href="https://www.cs.utexas.edu/~huangqx/"><u>Qixing Huang</u></a><sup>4</sup>&nbsp;&nbsp;&nbsp;
  <a href="https://jamestompkin.com/"><u>James Tompkin</u></a><sup>5</sup>&nbsp;&nbsp;&nbsp;
  <a href="http://www.cad.zju.edu.cn/home/weiweixu/weiweixu_en.htm"><u>Weiwei Xu</u></a><sup>1</sup></h4>
</center>

<br>
<!-- <div class="uni_div">
  <img src="images/university.png" width="60%" >
</div> -->




<!-- <br><br><br> -->
<center><UNI><sup>1</sup>Zhejiang University&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  <sup>2</sup>Hangzhou Dianzi University&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  <sup>3</sup>The University of Hong Kong&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  <!-- <br><br> -->
  <sup>4</sup>University of Texas at Austin&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  <sup>5</sup>Brown University&nbsp;&nbsp;</UNI></center>



<!-- <center>
<div class="button_icons">

  <div class="button_my">
  <a href="snisr.pdf">
    <img style="PADDING-TOP: 12px;" alt="" src="images/paper_logo2.png" width=35%>
    <div class="my_txt"><span><a>Paper</a></span></div>
  </a>
</div>

<div class="button_my">
  <a href="https://www.youtube.com/watch?v=hn-IVZZ-_lM">
    <img style="PADDING-TOP: 15px;" alt="" src="images/video_logo.png" width=65%>
    <div class="my_txt"><span><a>Video</a></span></div>
  </a>
</div>

<div class="button_my">
  <a href="https://github.com/XchaoWu/Scalable-Neural-Indoor-Scene-Rendering">
    <img style="PADDING-TOP: 12px;" alt="" src="images/code_logo.png" width=63%>
    <div class="my_txt"><span><a>Code</a></span></div>
  </a>
</div>

<div class="button_my">
  <a href="https://docs.google.com/presentation/d/1HNUrycwS31bU5flg8Kr5pZvmOBKqb6Rz/edit?usp=sharing&ouid=107369102250640073628&rtpof=true&sd=true">
    <img style="PADDING-TOP: 15px;" alt="" src="images/ppt_logo2.png" width=60%>
    <div class="my_txt"><span><a>PPT</a></span></div>
  </a>
</div>

<div class="button_my">
  <a href="https://drive.google.com/drive/folders/11kZ9vu1BqKKqV4p5RRwlh-f_hQbEpaIp?usp=sharing">
    <img style="PADDING-TOP: 8px;" alt="" src="images/data.png" width=50%>
    <div class="my_txt"><span><a>Data</a></span></div>
  </a>
</div>

</div>
</center> -->


<br>


<img class="teaser" src="images/teaser.png"> 
<br><br><br><br><br><br><br><br><br><br>
<br><br><br><br><br><br><br>
<center><h2>Abstract</h2></center>
<div style="font-size:14px; text-align:justify;"><p>
  To improve novel view synthesis of curved-surface reflections and refractions, 
we revisit local geometry-guided ray interpolation techniques with
modern differentiable rendering and optimization. In contrast to depth or
mesh geometries, our approach uses a local or per-view density represented
as Gaussian mixtures along each ray. To synthesize novel views, we warp and
fuse local volumes, then alpha-composite using input photograph ray colors
from a small set of neighboring images. For fusion, we use a neural blending
weight from a shallow MLP. We optimize the local Gaussian density mixtures
using both a reconstruction loss and a consistency loss. The consistency
loss, based on per-ray KL-divergence, encourages more accurate geometry
reconstruction. In scenes with complex reflections captured in our LGDM
dataset, the experimental results show that our method outperforms state-of-the-art novel view synthesis methods by 12.2% - 37.1% in PSNR, due to
its ability to maintain sharper view-dependent appearances.</p></div>

<center><h2>Rendering Results (LGDM dataset)</h2></center>
<div class="container">

  <center>
    <video id="ref_demo" width="800" height="450" autoplay loop muted playsinline>
      <source id="source" src="">
    </video>
  </center>
  <!-- Next and previous buttons -->
  <!-- <a class="prev" onclick="plusSlides(-1)">&#10094;</a>
  <a class="next" onclick="plusSlides(1)">&#10095;</a> -->

  <!-- Image text -->
  <div class="caption-container">
    <p id="caption"></p>
  </div>

  <!-- Thumbnail images -->
  <center>
  <div class="row">
    <div class="column">
      <img class="demo cursor" draggable="false" src="images/66.png" style="width:100%" onclick='changevideo("videos/blue_car_lgdm.mp4", 1)' alt="Blue Car">
      <div class="lab"><span>Blue Car</span></div>
    </div>
    <div class="column">
      <img class="demo cursor" draggable="false" src="images/38.png" style="width:100%" onclick='changevideo("videos/red_car_lgdm.mp4", 2)' alt="Red Car">
      <div class="lab"><span>Red Car</span></div>
    </div>
    <div class="column">
      <img class="demo cursor" draggable="false" src="images/1.png" style="width:100%" onclick='changevideo("videos/nata_lgdm.mp4", 3)' alt="Natatorium">
      <div class="lab"><span>Natatorium</span></div>
    </div>
    <div class="column">
      <img class="demo cursor" draggable="false" src="images/2.png" style="width:100%" onclick='changevideo("videos/skyscraper_lgdm.mp4", 4)' alt="Skyscraper">
      <div class="lab"><span>Skyscraper</span></div>
    </div>
    <div class="column">
      <img class="demo cursor" draggable="false" src="images/0.png" style="width:100%" onclick='changevideo("videos/bull_lgdm.mp4", 5)' alt="Bull">
      <div class="lab"><span>Bull</span></div>
    </div>
    <div class="column">
      <img class="demo cursor" draggable="false" src="images/62.png" style="width:100%" onclick='changevideo("videos/glassbust_lgdm.mp4", 6)' alt="Glass Bust">
      <div class="lab"><span>Glass Bust</span></div>
    </div>
    <div class="column">
      <img class="demo cursor" draggable="false" src="images/7.png" style="width:100%" onclick='changevideo("videos/mall_lgdm.mp4", 7)' alt="Mall">
      <div class="lab"><span>Mall</span></div>
    </div>

    <div class="column">
      <img class="demo cursor" draggable="false" src="images/9.png" style="width:100%" onclick='changevideo("videos/sculpture_lgdm.mp4", 8)' alt="Sculpture">
      <div class="lab"><span>Sculpture</span></div>
    </div>

  </div>
</center>
</div>


<!-- <center><h2>Full Video</h2></center>
<center>
<table align="center" border="0" cellspacing="0" cellpadding="0">
  <iframe width="960" height="540" src="https://www.youtube.com/embed/hn-IVZZ-_lM" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
  </iframe>
</table>
</center> -->

<!-- <br><br><br>
<hr> -->
<!-- <img class="teaser" src="images/pipeline.png">  -->






<!-- <br>
<br><br><br><br><br><br><br><br><br><br><br><br><br><br>
<br><br><br> -->



<center><h2>Rendering Results (Public Dataset)</h2></center>
<center>
  <p>
    We test our method on public datasets, including the RFF and Shiny datasets. 
  </p>
</center>
<div class="slideshow-container">

  <!-- Full-width images with number and caption text -->
  <div class="mySlides fade">
    <!-- <div class="numbertext">1 / 2</div> -->
    <!-- <img src="images/bar.png" style="width:100%"> -->
    <video src="videos/fern.mp4" width="1000" autoplay loop muted playsinline></video>
    <div class="text">Fern</div>
  </div>

  <div class="mySlides fade">
    <!-- <div class="numbertext">2 / 2</div> -->
    <!-- <img src="images/coffee.png" style="width:100%"> -->
    <video src="videos/orchid.mp4" width="1000" autoplay loop muted playsinline></video>
    <div class="text">Orchid</div>
  </div>

  <div class="mySlides fade">
    <!-- <div class="numbertext">2 / 2</div> -->
    <!-- <img src="images/coffee.png" style="width:100%"> -->
    <video src="videos/trex.mp4" width="1000" autoplay loop muted playsinline></video>
    <div class="text">T-rex</div>
  </div>

  <div class="mySlides fade">
    <!-- <div class="numbertext">2 / 2</div> -->
    <!-- <img src="images/coffee.png" style="width:100%"> -->
    <video src="videos/seasoning.mp4" width="1000" autoplay loop muted playsinline></video>
    <div class="text">Seasoning</div>
  </div>


  <div class="mySlides fade">
    <!-- <div class="numbertext">2 / 2</div> -->
    <!-- <img src="images/coffee.png" style="width:100%"> -->
    <video src="videos/tools.mp4" width="1000" autoplay loop muted playsinline></video>
    <div class="text">Tools</div>
  </div>


  <!-- Next and previous buttons -->
  <a class="prev" onclick="plusSlides(-1)">&#10094;</a>
  <a class="next" onclick="plusSlides(1)">&#10095;</a>
</div>
<br>

<!-- The dots/circles -->
<div style="text-align:center">
  <span class="dot" onclick="currentSlide(1)"></span>
  <span class="dot" onclick="currentSlide(2)"></span>
  <span class="dot" onclick="currentSlide(3)"></span>
  <span class="dot" onclick="currentSlide(4)"></span>
  <span class="dot" onclick="currentSlide(5)"></span>
</div>



<br><br>
<hr>

<center><h2>Method</h2></center>
<div style="font-size:14px; text-align:justify;"><p>
  We revisit ideas from geometry-guided ray interpolation techniques with modern neural fields, differentiable rendering, and end-to-end optimization. 
  Rather than a global proxy geometry, we propose for each input view to define a local proxy geometry. As each local geometry only has to remain consistent across the small set of neighboring views used to produce a novel view, this makes it possible to represent complex curved reflectors in a `piecewise' way, helping to maintain sharp reflections.
</p></div>

  <div class="image2-container">
    <img src="images/pipeline.png" >
</div>

<br>
<br>
<!-- <br><br><br><br><br> -->
<!-- <br><br><br><br> -->
<hr>

<center><h2>Comparisons</h2></center>
<center>
  <p>
    Comparisons with other state-of-the-art (SOTA) methods.
  </p>
</center><br>
<!-- <div class="video-wrapper">
  <video class="video-clip video-clip-left" src="videos/glassbust_lgdm.mp4" autoplay loop muted></video>
  <video class="video-clip video-clip-right" src="videos/portrait_3DGS.mp4" autoplay loop muted></video>
  <div class="video-divider"></div>
</div> -->




<div class="video-wrapper">
  <video class="video-clip video-clip-left" src="videos/blue_car_lgdm.mp4" autoplay loop muted></video>
  <video class="video-clip video-clip-right" src="videos/blue_car_refnerf.mp4" autoplay loop muted></video>
  <div class="video-divider">
      <span class="arrow-left">&#10094;</span>
      <span class="arrow-right">&#10095;</span>
  </div>
  <div class="label label-left">Ours</div>
  <div class="label label-right">Ref-NeRF</div>
</div>

<br><br><br><br>


  <!-- <div class="image-wrapper">
      <img class="image-clip image-clip-left"  src="images/sky-ours.png">
      <img class="image-clip image-clip-right" src="images/sky-zip.png">
      <div class="divider">
        <span class="arrow-left">&#10094;</span>
        <span class="arrow-right">&#10095;</span>
      </div>
      <div class="label label-left">Ours</div>
      <div class="label label-right">Zip-NeRF</div>
  </div> -->

  <div class="grid-container">
    <div class="comparison-container">
        <div class="comparison-image">
            <img src="images/sky-ours-c.png" alt="Image 1A">
            <img src="images/sky-zip-c.png" alt="Image 1B">
            <div class="comparison-divider">
          </div>
        </div>
        <div class="label label-left">Ours</div>
        <div class="label label-right">Zip-NeRF</div>
    </div>
    <div class="comparison-container">
        <div class="comparison-image">
            <img src="images/nata-ours.png" alt="Image 2A">
            <img src="images/nata-3DGS.png" alt="Image 2B">
                <div class="comparison-divider">
                </div>
        </div>
        <div class="label label-left">Ours</div>
        <div class="label label-right">3DGS</div>
    </div>
    <div class="comparison-container">
        <div class="comparison-image">
            <img src="images/red-ours.png" alt="Image 3A">
            <img src="images/red-ingp.png" alt="Image 3B">
                <div class="comparison-divider">
                </div>
        </div>
        <div class="label label-left">Ours</div>
        <div class="label label-right">INGP</div>
    </div>
    <div class="comparison-container">
        <div class="comparison-image">
            <img src="images/gb-ours.png" alt="Image 4A">
            <img src="images/gb-ref.png" alt="Image 4B">
                <div class="comparison-divider">
                </div>
        </div>
        <div class="label label-left">Ours</div>
        <div class="label label-right">Ref-NeRF</div>
    </div>
</div>

<!-- <div class="com-image-grid">
  <div class="com-image-comparison">
      <div class="com-comparison-image-wrapper">
          <div class="com-comparison-image" style="clip: rect(0, 50%, 100%, 0);">
              <img src="images/sky-ours.png" alt="Left Image">
              <div class="com-label-left">Left Text</div>
          </div>
          <div class="com-comparison-image" style="clip: rect(0, 100%, 100%, 50%);">
              <img src="images/sky-zip.png" alt="Right Image">
              <div class="com-label-right">Right Text</div>
          </div>
      </div>
      <div class="com-divider"></div>
  </div>
</div> -->

<!-- <div class="video-wrapper">
  <video class="video-clip video-clip-left" src="videos/glassbust_lgdm.mp4" autoplay loop muted></video>
  <video class="video-clip video-clip-right" src="videos/portrait_3DGS.mp4" autoplay loop muted></video>
  <div class="video-divider">
    <span class="arrow-left">&#10094;</span>
    <span class="arrow-right">&#10095;</span>
</div>
  <div class="label label-left">Ours</div>
  <div class="label label-right">3DGS</div>
</div> -->

<!-- <div class="video-wrapper">
  <video class="video-clip video-clip-left" src="videos/red_car_lgdm.mp4" autoplay loop muted></video>
  <video class="video-clip video-clip-right" src="videos/red_car_refnerf.mp4" autoplay loop muted></video>
  <div class="video-divider">
    <span class="arrow-left">&#10094;</span>
    <span class="arrow-right">&#10095;</span>
</div>
  <div class="label label-left">Ours</div>
  <div class="label label-right">Ref-NeRF</div>
</div> -->

<br><br>

<!-- <div class="compare">
  <div class="video-area">
      <video id="video1" width="100%"autoplay loop muted>
          <source src="videos/glassbust_lgdm.mp4" type="video/mp4">
          Your browser does not support the video tag.
      </video>
      <br>
      <video_name>Ours</video_name>
  </div>
  <div class="video-area">
      <video id="video2" width="100%" autoplay loop muted>
          <source src="videos/portrait_3DGS.mp4" type="video/mp4">
          Your browser does not support the video tag.
      </video>
      <br>
      <video_name>3DGS</video_name>
  </div>
</div> -->

<!-- <br>

<div class="compare">
  <div class="video-area">
      <video id="video1" width="100%"autoplay loop muted>
          <source src="videos/nata_lgdm.mp4" type="video/mp4">
          Your browser does not support the video tag.
      </video>
      <br>
      <video_name>Ours</video_name>
  </div>
  <div class="video-area">
      <video id="video2" width="100%" autoplay loop muted>
          <source src="videos/nata_nex.mp4" type="video/mp4">
          Your browser does not support the video tag.
      </video>
      <br>
      <video_name>Nex</video_name>
  </div>
</div>

<br> -->
<!-- 
<div class="compare">
  <div class="video-area">
      <video id="video1" width="100%"autoplay loop muted>
          <source src="videos/red_car_lgdm.mp4" type="video/mp4">
          Your browser does not support the video tag.
      </video>
      <br>
      <video_name>Ours</video_name>
  </div>
  <div class="video-area">
      <video id="video2" width="100%" autoplay loop muted>
          <source src="videos/red_car_refnerf.mp4" type="video/mp4">
          Your browser does not support the video tag.
      </video>
      <br>
      <video_name>Ref-NeRF</video_name>
  </div>
</div> -->

<br><br>





<hr>

<center><h2>Full Video</h2></center>
<center>
  <table align="center" border="0" cellspacing="0" cellpadding="0">
    <iframe width="800" height="450" src="https://www.youtube.com/embed/sb1AeLB6tg4?si=sqTZ50vyJTJIoHlW" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
    </iframe>
  </table>
</center> 

<br><br>

<center><h2>Download</h2></center>
<center>
  <p>Download our paper, code, and dataset.</p>
</center>
<!-- <center>
  <h6>
    Download our paper, code, and dataset.
  </h6>
</center> -->

<!-- <br><br> -->

<div class="image-gallery">
  <div class="gallery-item">
      <a href="./LGDM.pdf">
        <img src="images/paper.jpg" alt="paper" >
        <p>Paper</p>
      </a>
  </div>
  <div class="gallery-item">
      <a href="https://github.com/XchaoWu/Local-Gaussian-Density-Mixtures-for-Unstructured-Lumigraph-Rendering">
        <img src="images/code.jpg" alt="code">
        <p>Code</p>
      </a>
  </div>
  <div class="gallery-item">
      <a href="https://drive.google.com/drive/folders/1dr-hqCDWGJ4AuSvQx8UInTkqYj_821dO?usp=sharing">
        <img src="images/dataset.png" alt="dataset">
        <p>Dataset</p>
      </a>
  </div>
</div>

<br>
<br>

<center><h2>BibTex</h2></center>
<pre style="width:1000px;overflow-x:auto">
  <code>
    @article{wu2024lgdm,
      title={Local Gaussian Density Mixtures for Unstructured Lumigraph Rendering},
      author={Wu, Xiuchao and Xu, Jiamin and Wang, Chi and Peng, Yifan and Huang, Qixing and Tompkin, James and Xu, Weiwei},
      booktitle = {ACM SIGGRAPH Asia 2024 Conference Papers},
      year = {2024},
    }
  </code>
</pre>
      <!-- articleno = {xxxx},
      numpages = {xxxxx} -->
<!-- <hr> -->
<br>
<br>

<br>
<br>
<hr>

<center><h2>Acknowledgements</h2></center>
<div class='ttt1'>
<center>
  <p>Supported by Information Technology Center and 
    <a href="https://www.zju.edu.cn/english/2018/0522/c19974a812968/page.htm">State Key Lab of CAD&CG</a>, Zhejiang University.</p>
</center>

</div>

<!-- <center>
  <video src="videos/demo_12.mp4" width="960" height="540" controls></video>
</center> -->
<!-- <br>
<br>
<br>
<center>
  <video id="ref_demo" style="width:80%" autoplay loop controls>
    <source id="source" src="videos/livingroom.mp4">
  </video>
</center>
<br>
<br>
<br> -->

<!-- Container for the image gallery -->

<!-- <hr> -->

<br>
<footer>
  <div style="width: 100%;" class="footer">
    <!-- <center>
      <p>
        Data Living Room1 and Sofa are from <u><a href="https://repo-sam.inria.fr/fungraph/deep-indoor-relight/">Inria</a></u> 
      </p>
      <p>Data Living Room2 is from paper <a href="https://drive.google.com/file/d/1g6ZID48j-R1JMk-g8Nb_cRgZr2UkzeGc/view?usp=share_link"><u>Scalable Image-based Indoor Scene Rendering with Reflections</u></a></p>
    </center> -->
  </div>
</footer>

<script>
document.addEventListener('DOMContentLoaded', () => {
    const videoSelect = document.getElementById('video-select');
    const video1 = document.getElementById('video1');
    const video2 = document.getElementById('video2');

    // Function to load and play videos
    const loadAndPlayVideos = () => {
        const selectedValue = videoSelect.value;
        video2.querySelector('source').setAttribute('src', selectedValue);

        video1.load();
        video2.load();

        video1.currentTime = 0;
        video2.currentTime = 0;

        video1.play();
        video2.play();
    };

    // Set default selection and play videos on page load
    loadAndPlayVideos();

    // Update videos when selection changes
    videoSelect.addEventListener('change', loadAndPlayVideos);

    // Function to reset and play both videos from the beginning
    const resetAndPlayVideos = () => {
        video1.currentTime = 0;
        video2.currentTime = 0;

        video1.play();
        video2.play();
    };

    // Event listeners for when either video ends
    video1.addEventListener('ended', resetAndPlayVideos);
    video2.addEventListener('ended', resetAndPlayVideos);
});

</script>


<script>
  const videos = ['videos/fern.mp4', 'videos/orchid.mp4', 'video3.mp4']; // 视频文件列表
  let currentIndex = 0;

  const videoElement = document.getElementById('video');
  const prevButton = document.getElementById('prev');
  const nextButton = document.getElementById('next');
  const dotsContainer = document.getElementById('dots');

  function loadVideo(index) {
      // 先隐藏视频
      videoElement.style.opacity = 0;
      // 使用 videoElement 的 pause() 方法暂停当前视频
      videoElement.pause();
      // 设置新视频源
      videoElement.src = videos[index];
      // 监听 loadeddata 事件确保视频数据加载完成
      videoElement.addEventListener('loadeddata', () => {
          videoElement.style.opacity = 1;
          videoElement.play();
      }, { once: true });
      updateDots();
  }

  function updateDots() {
      dotsContainer.innerHTML = '';
      videos.forEach((_, index) => {
          const dot = document.createElement('span');
          if (index === currentIndex) {
              dot.classList.add('active');
          }
          dot.addEventListener('click', () => {
              currentIndex = index;
              loadVideo(currentIndex);
          });
          dotsContainer.appendChild(dot);
      });
  }

  prevButton.addEventListener('click', () => {
      currentIndex = (currentIndex - 1 + videos.length) % videos.length;
      loadVideo(currentIndex);
  });

  nextButton.addEventListener('click', () => {
      currentIndex = (currentIndex + 1) % videos.length;
      loadVideo(currentIndex);
  });

  // 初始化
  loadVideo(currentIndex);
</script>

<script>
const divider = document.querySelector('.video-divider');
const videoWrapper = document.querySelector('.video-wrapper');
let isDragging = false;

divider.addEventListener('mousedown', (e) => {
    isDragging = true;
});

document.addEventListener('mousemove', (e) => {
    if (isDragging) {
        const rect = videoWrapper.getBoundingClientRect();
        const newX = Math.min(Math.max(e.clientX - rect.left, 0), rect.width);
        divider.style.left = `${newX}px`;
        
        // 更新 mask 的位置
        document.querySelector('.video-clip-left').style.maskImage = `linear-gradient(to right, rgba(0, 0, 0, 1) ${newX}px, rgba(0, 0, 0, 0) ${newX}px)`;
        document.querySelector('.video-clip-right').style.maskImage = `linear-gradient(to left, rgba(0, 0, 0, 1) ${rect.width - newX}px, rgba(0, 0, 0, 0) ${rect.width - newX}px)`;
    }
});

document.addEventListener('mouseup', () => {
    isDragging = false;
});

</script>


<script>
const imgdivider = document.querySelector('.divider');
const imgWapper = document.querySelector('.image-wrapper');
let isDragging2 = false;

imgdivider.addEventListener('mousedown', (e) => {
  isDragging2 = true;
});

document.addEventListener('mousemove', (e) => {
    if (isDragging2) {
        const rect = imgWapper.getBoundingClientRect();
        const newX = Math.min(Math.max(e.clientX - rect.left, 0), rect.width);
        imgdivider.style.left = `${newX}px`;
        
        // 更新 mask 的位置
        document.querySelector('.image-clip-left').style.maskImage = `linear-gradient(to right, rgba(0, 0, 0, 1) ${newX}px, rgba(0, 0, 0, 0) ${newX}px)`;
        document.querySelector('.image-clip-right').style.maskImage = `linear-gradient(to left, rgba(0, 0, 0, 1) ${rect.width - newX}px, rgba(0, 0, 0, 0) ${rect.width - newX}px)`;
    }
});

document.addEventListener('mouseup', () => {
  isDragging2 = false;
});
</script>


<script>
document.querySelectorAll('.comparison-container').forEach(container => {
    const imageContainer = container.querySelector('.comparison-image');
    const divider = imageContainer.querySelector('.comparison-divider');
    const leftImage = imageContainer.querySelector('img:nth-of-type(1)');
    const rightImage = imageContainer.querySelector('img:nth-of-type(2)');
    const containerRect = imageContainer.getBoundingClientRect();

    function updateImages(x) {
        x = Math.max(0, Math.min(x, containerRect.width));
        divider.style.left = `${x}px`;
        leftImage.style.clipPath = `inset(0 ${containerRect.width - x}px 0 0)`;
        rightImage.style.clipPath = `inset(0 0 0 ${x}px)`;
    }

    imageContainer.addEventListener('mousemove', (e) => {
        const x = e.clientX - imageContainer.getBoundingClientRect().left;
        updateImages(x);
    });

    imageContainer.addEventListener('mouseleave', () => {
        const initialX = containerRect.width / 2;
        updateImages(initialX);
    });

    // Initialize the images and divider position
    updateImages(containerRect.width / 2);
});
</script>

</body></html>
<!-- 
<div class="demo">    <div class="item">
  <h2 name="Results"> Static relighting interpolation</h2>
  <video muted autoplay loop controls ><source src='videos/livingroom.mp4' type='video/mp4'></video>
  
  <ul id="lightSliderres0">
  <li data-thumb="images/video_icon.png">
  <a name="results"></a>
  <h2 name="Results">Path n&deg1: View synthesis</h2>
  <video muted autoplay loop controls ><source src='videos/Bar.mp4' type='video/mp4'></video></li>
  <li data-thumb="images/video_icon.png">
  <a name="results"></a>
  <h2 name="Results">Path n&deg1: Relit view synthesis n&deg1</h2>
  <video muted autoplay loop controls ><source src='videos/coffee.mp4' type='video/mp4'></video></li>
  <li data-thumb="images/video_icon.png">
  <a name="results"></a>
  <h2 name="Results">Path n&deg1: Relit view synthesis n&deg2</h2>
  <video muted autoplay loop controls ><source src='videos/sofa.mp4' type='video/mp4'></video></li>
  </ul>
  <script type="text/javascript">
  $(document).ready(function() {$("#lightSliderres0").lightSlider({gallery:true,item:1,thumbItem:3,slideMargin: 0,loop:true,adaptiveHeight:true,});});
  </script>
</div></div> -->

  
<!-- <h2>Tile Groups</h2>
<center><a href="images/sofa.gif">
  <img src="images/sofa.gif" width="256"> 
  </a></center>
<center><a href="images/floor.gif">
  <img src="images/floor.gif" width="256"> 
  </a></center>
<center><a href="images/light.gif">
  <img src="images/light.gif" width="256"> 
  </a></center>
<center><a href="images/table.gif">
  <img src="images/table.gif" width="256"> 
  </a></center>
<br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
<hr/> -->
<!-- <h2>Video</h2>
<table align="center" border="0" cellspacing="0" cellpadding="0">
    <tr>
    <td align="center" valign="middle">

	
		<iframe width="640" height="360" src="https://www.youtube.com/embed/qtBecWttXH4?rel=0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>
   </td>
    </tr>
</table>
<p>&nbsp;</p>
<hr/> -->

<!-- <h2>Code & Data</h2>
<table align="left" border="0" cellspacing="0" cellpadding="0">
  <tr>
  <td align="left" valign="middle">

    <a href="https://i.cs.hku.hk/~nlchen/curvefusion/">
      <image width="100" height="100" src="data_ico.png">
    </a>
  
 </td>

 <td align="left" valign="middle">
  <a href="https://drive.google.com/drive/folders/1jr5jsR8j4lofcoNNN68HlGvXhVck4mgj">
    <image width="100" height="100" src="data_ico.png">
  </a>
 </td>
  </tr>
  <tr>
    <td align="middle" valign="middle">
  
  
    <a href="https://i.cs.hku.hk/~nlchen/curvefusion/" width="100" height="100">Code</a>
   </td>
  
   <td align="middle" valign="middle">
  
  
    <a href="https://drive.google.com/drive/folders/1jr5jsR8j4lofcoNNN68HlGvXhVck4mgj" width="100" height="100">Data</a>
   </td>
    </tr>
</table> -->
<p>&nbsp;</p>

<!-- 
<h2>Citation</h2>
				<div class="section bibtex">
					<pre>
@article{curvefusion,
                author = {Liu, Lingjie and Chen, Nenglun and Ceylan, Duygu and Theobalt, Christian and Wang, Wenping and Mitra, Niloy J.},
                title = {Local Gaussian Density Mixtures for Unstructured Lumigraph Rendering},
                journal = {ACM Trans. Graph.},
                issue_date = {November 2018},
                volume = {37},
                number = {6},
                month = dec,
                year = {2018},
                issn = {0730-0301},
                pages = {218:1--218:12},
                articleno = {218},
                numpages = {12},
                url = {http://doi.acm.org/10.1145/3272127.3275097},
                doi = {10.1145/3272127.3275097},
                acmid = {3275097},
                publisher = {ACM},
                address = {New York, NY, USA},
               }
				</div>
<br>
<br>
<br> -->


<br>
<br>
<br>
<!--<h2>Citation</h2>
<p></p>-->
<!-- 
<div style="display:none">


